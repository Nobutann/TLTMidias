{% extends 'base.html' %}
{% load static %}

{% block title %}Confirmar Exclusão{% endblock %}

{% block content %}
<div class="container">
  <h1>Confirmar exclusão</h1>
  {% if article %}
    <div class="article-summary">
      <h2>{{ article.title }}</h2>
      <p>{{ article.content|truncatechars:200 }}</p>
    </div>
    <form method="post" id="delete-form">
      {% csrf_token %}
      <p>Tem certeza que deseja excluir este artigo? Esta ação não pode ser desfeita.</p>
      <div class="actions">
        <button type="submit" class="btn btn-danger">Sim, excluir</button>
  <a href="{% url 'article:details' article.pk %}" class="btn btn-secondary">Cancelar</a>
      </div>
    </form>

    <script>
      document.getElementById('delete-form').addEventListener('submit', function(e){
        if(!confirm('Excluir o artigo definitivamente?')){
          e.preventDefault();
        }
      });
    </script>
  {% else %}
    <p>Artigo não encontrado.</p>
  {% endif %}
</div>
{% endblock %}
